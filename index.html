<!DOCTYPE html>
<html>
<head>
<script>
  function runCode(){
    eval(document.getElementById('interpreter').value);
    let codes = document.getElementById('inputs').value.split('\n');
    document.getElementById('output').value = '';
    codes.forEach((code)=>{
       findUnique(code);
       interpret(code);
    });
  }
  function findUnique(str){
    // The variable that contains the unique values
    let uniq = "";

    for(let i = 0; i < str.length; i++){
      // Checking if the uniq contains the character
      if(uniq.includes(str[i]) === false){
        // If the character not present in uniq
        // Concatenate the character with uniq
        uniq += str[i]
      }
    }
    return uniq;
  }
</script>
</head>
<body>

<h2>Code Breaker</h2>

<span>Based on <a href="https://esolangs.org/wiki/%2B-#+-=*/!&#">https://esolangs.org/wiki/%2B-#+-=*/!&#</a></span>
<br><br>
<label for="interpreter">Interpreter</label>
<br>
<textarea id="interpreter" name="interpreter" rows="20" cols="120">
function interpret(p){
    var a = 0, o = '';
    for(const c of p){
        switch(c){
            case '+': a++; break;
            case '-': a--; break;
            case '=': o += a; break;
            case '*': o += String.fromCharCode(a); break;
            case '/': a = 0; break;
            case '!': a += 10; break;
            case '&': a -= 10; break;
            case '#': o += '\n'; break;
        }
    }
    console.log(o);
    document.getelementById('output').value += o + '\n';
}
</textarea>

<br>

<label for="inputs">Inputs</label>
<br>
<textarea id="inputs" name="inputs" rows="9" cols="120">
.>|>:|<<>..|...:.|+|.:<+>:>.|+.<:||:|>..|>:|.:||>+:|.<+:.:|<<.|:>
..:>.||>>:<+|:>.|+>:>.|+..:|:|:><<|||+|.|>>::|+|+|>.|<<+:>.||>.|.>:||
...|:<>::>|:<>:|.:||>+|.:<+>:>.|+<>|.:<.|>.+>:>|>:+:<<|:>.:.>::<+>:>.|+<<:|:>>...
...||>:>+:|.<+>>|.|>..+|.:<+...||>:>+:<.|>..<
>::>|:.|+<||>.|:.|+|.:<+.<:||:|>..+:||>>.||+|.|>+<:>.||>:|.:||>
<:>.||>:|.:||>+|.:<+>:>.|+.|.:>>:>+:|.<+>:>.|+:<:||:>.
>::>||>:<.<:|>>|>:|.:||>+|.:<+>:>.|+:.|>:>+>::|+:..|:>.<.|<>:|.:||>
<<|.>.>.+||:||:+:<:|>.<|.|+>>||+<:|...|+:|+|>.<<|||:<+<<:||>...|:>+<<>|>:+<<|:<+<<:>|.>:>:.||>+>:>.||>+>.:|:<>:
</textarea>
<br><br>
<span>Example that works with default interpreter: !!!!!!!++*!!!-*!---**+++*/!!!++*!!!!!+++++*!!++++*+++*&++++*&++*/!!!+++*</span>
<br><br>
<button onclick="runCode();">Decode</button>

<hr>

<br>

<label for="output">Output</label>
<br>
<textarea id="output" name="output" rows="10" cols="120">
</textarea>

</body>
</html>
